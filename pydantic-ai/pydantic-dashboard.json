{"description":"","image":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0Ljk0OTQgMTMuOTQyQzE2LjIzMTggMTIuNDI1OCAxNy4zMjY4IDkuNzAyMiAxNi4xOTU2IDYuNTc0ODdDMTUuNjQ0MyA1LjA1MjQ1IDE1LjAyMTkgNC4yMDI0OSAxNC4yOTY5IDMuNjYyNTJDMTMuODU1NyAzLjMzMzc5IDEyLjA5MzMgMi41MDYzMyA5Ljc1OTY1IDIuODY3NTZDOC4wNTM0OSAzLjEzMjU1IDUuNzc0ODcgNC4yMDg3NCA0LjI5MzY5IDUuOTU5OUMyLjg1NzUyIDcuNjYxMDYgMS43NDg4MyA5LjAwNDc0IDEuNjk3NTggMTAuMzA5N0MxLjYzMTMzIDExLjk4ODMgMi44OTYyNyAxMy40MzA4IDMuMDUwMDEgMTMuNjY0NUMzLjMyMzc0IDE0LjA3OTUgNS4xOTExNSAxNi40NTE4IDguNjk5NzEgMTYuNTczMUMxMS43OTcgMTYuNjc5MyAxMy44MTQ0IDE1LjI4NDQgMTQuOTQ5NCAxMy45NDJaIiBmaWxsPSIjNDAzRDNFIi8+CjxwYXRoIGQ9Ik00LjU1MzYzIDIuNzM3NDdDMi45Mzc0NiAzLjg5MTE2IDEuMTIxMzEgNi4yNTEwMyAxLjQ0NzU0IDkuNTYwODZDMS42MDYyOCAxMS4xNzIgMi4wMDI1MSAxMi4xNDk1IDIuNTcxMjMgMTIuODUwN0MyLjkxNzQ2IDEzLjI3ODIgNC40MTk4OCAxNC41NDkzIDYuNzczNTEgMTQuNzM2OEM5LjE0NTg4IDE0LjkyNTYgMTAuOTQ5NSAxNC4zOTQ0IDEyLjgzMzIgMTMuMDg0NEMxNi42NjE3IDEwLjQyMDggMTYuMDk4IDYuMzkzNTMgMTUuOTM0MyA1LjkyNDhDMTUuNzcwNSA1LjQ1NjA3IDE0LjU0NDQgMi42OTYyMiAxMS4xNzMzIDEuNzE1MDJDOC4xOTg0NCAwLjg1MDA2OCA1Ljk4MzU1IDEuNzE1MDIgNC41NTM2MyAyLjczNzQ3WiIgZmlsbD0iIzVFNjM2NyIvPgo8cGF0aCBkPSJNNy4zOTM1MyAyLjk2MTA5QzUuNjE3MzcgMi44OTczNCAzLjkxOTk2IDQuMjg4NTIgMy43NTYyMiA2LjAwNTkzQzMuNTkyNDggNy43MjIwOSA0LjY1NDkyIDkuMDI5NTIgNi4zMDk4MyA5LjI5NTc2QzcuOTY0NzUgOS41NjA3NCA5Ljg3ODM5IDguNTU1OCAxMC4yNjM0IDYuNDUwOTFDMTAuNjYwOSA0LjI4MjI3IDkuMDg5NjkgMy4wMjIzNCA3LjM5MzUzIDIuOTYxMDlaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNy45NDIxNyA1LjkwMTE1QzcuOTQyMTcgNS45MDExNSA4LjM2OTY1IDUuODEyNCA4LjQ1NDY1IDUuMTgyNDRDOC41MzgzOSA0LjU2MjQ3IDguMjMwOTEgNC4wMzM3NSA3LjUxMzQ1IDMuODQzNzZDNi43MzM0OSAzLjYzNzUyIDYuMjA0NzcgNC4wNjYyNSA2LjA2NzI3IDQuNTE3NDdDNS44NzYwMyA1LjE0NDk0IDYuMTU4NTIgNS40NDM2NyA2LjE1ODUyIDUuNDQzNjdDNi4xNTg1MiA1LjQ0MzY3IDUuMzkzNTYgNS42Mjc0MSA1LjMzMjMxIDYuNTI5ODdDNS4yNzQ4MSA3LjM4MTA3IDUuODU2MDMgNy44Mzg1NSA2LjQzOTc1IDcuOTc4NTRDNy4xNjA5NiA4LjE1MjI4IDcuOTc4NDIgNy45NTQ3OSA4LjE3ODQxIDcuMDM0ODRDOC4zNDQ2NSA2LjI3NzM4IDcuOTQyMTcgNS45MDExNSA3Ljk0MjE3IDUuOTAxMTVaIiBmaWxsPSIjMzAzMDMwIi8+CjxwYXRoIGQ9Ik02LjczOTgzIDQuNzUzNjJDNi42NzEwOSA1LjAxMjM1IDYuODA4NTggNS4yNjIzNCA3LjA3ODU3IDUuMzMxMDlDNy4zNjk4IDUuNDA0ODMgNy42MzQ3OSA1LjMwODU5IDcuNzA2MDMgNS4wMTExQzcuNzY4NTMgNC43NDczNyA3LjY0MzU0IDQuNTE0ODggNy4zMzYwNSA0LjQzOTg4QzcuMDgzNTcgNC4zNzczOSA2LjgxNDgzIDQuNDcxMTMgNi43Mzk4MyA0Ljc1MzYyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYuOTU5NzggNi4wMzk3NEM2LjYzMjMgNS45Mzg0OSA2LjE5OTgyIDYuMDY0NzMgNi4xMzEwNyA2LjUwNDcxQzYuMDYyMzMgNi45NDQ2OSA2LjMyNjA2IDcuMTY5NjggNi42NzEwNCA3LjIzMjE3QzcuMDE2MDMgNy4yOTQ2NyA3LjM0MjI2IDcuMTEzNDMgNy40MDYwMSA2Ljc2MDk1QzcuNDY4NSA2LjQwOTcyIDcuMjg2MDEgNi4xMzk3MyA2Ljk1OTc4IDYuMDM5NzRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K","layout":[{"h":3,"i":"04247ee1-b408-457d-ac00-47ce45e64291","moved":false,"static":false,"w":3,"x":0,"y":0},{"h":3,"i":"d6cf07ab-f06e-43ce-a3fd-48ef0c3c9570","moved":false,"static":false,"w":3,"x":3,"y":0},{"h":3,"i":"799913e6-fb95-497e-858a-6490b5f9d10d","moved":false,"static":false,"w":3,"x":6,"y":0},{"h":5,"i":"3633c7ad-203a-4e25-99f4-8cc81bf15d65","moved":false,"static":false,"w":3,"x":9,"y":0},{"h":1,"i":"__dropping-elem__","isDraggable":true,"moved":false,"static":false,"w":1,"x":1,"y":3},{"h":1,"i":"__dropping-elem__","isDraggable":true,"moved":false,"static":false,"w":1,"x":1,"y":3},{"h":1,"i":"__dropping-elem__","isDraggable":true,"moved":false,"static":false,"w":1,"x":1,"y":3},{"h":5,"i":"af79b14b-5e76-47fb-a24e-a4629c642c28","moved":false,"static":false,"w":4,"x":4,"y":3},{"h":5,"i":"28bb5d45-046d-4980-ad5e-26b1aeecda2b","moved":false,"static":false,"w":4,"x":0,"y":4},{"h":3,"i":"67a074ee-c46e-4a36-8f5c-10d981cae404","moved":false,"static":false,"w":6,"x":5,"y":8},{"h":5,"i":"74a94376-eeaf-43c1-a273-5d8b98197138","moved":false,"static":false,"w":5,"x":0,"y":9},{"h":6,"i":"5e66cb8c-2219-47e6-ba71-8f82f9873bc8","moved":false,"static":false,"w":7,"x":5,"y":11},{"h":4,"i":"bc6e3017-2b44-4152-a0d7-fe11e6b7a290","moved":false,"static":false,"w":5,"x":0,"y":14},{"h":4,"i":"1439219a-7067-4f3b-9308-1c405844cdab","moved":false,"static":false,"w":6,"x":6,"y":17},{"h":5,"i":"05e6759b-c460-4618-86c0-5d2bf0b311c1","moved":false,"static":false,"w":6,"x":0,"y":18},{"h":3,"i":"68d3a601-afac-4c63-b212-61667e0f9d70","moved":false,"static":false,"w":6,"x":6,"y":21}],"panelMap":{},"tags":[],"title":"Pydantic","uploadedGrafana":false,"uuid":"0199e900-cc5c-7e8a-8f00-071f36e10895","variables":{"10d0eca9-9253-4583-821c-d3c812d78151":{"allSelected":false,"customValue":"","defaultValue":"","description":"The service name using Anthropic API","dynamicVariablesAttribute":"service.name","dynamicVariablesSource":"All telemetry","haveCustomValuesSelected":false,"id":"10d0eca9-9253-4583-821c-d3c812d78151","key":"10d0eca9-9253-4583-821c-d3c812d78151","modificationUUID":"735355f5-c4c7-4969-ad30-eee98eeb36b8","multiSelect":true,"name":"service_name","order":0,"queryValue":"","showALLOption":true,"sort":"DISABLED","textboxValue":"","type":"DYNAMIC"},"1b049274-93ae-4bdd-95d4-1838abe22c30":{"allSelected":true,"customValue":"","defaultValue":"","description":"Name of agent being used","dynamicVariablesAttribute":"agent_name","dynamicVariablesSource":"All telemetry","id":"1b049274-93ae-4bdd-95d4-1838abe22c30","modificationUUID":"b91a50d2-04a0-4231-84a3-595ba15db739","multiSelect":true,"name":"agent_name","order":0,"queryValue":"","showALLOption":true,"sort":"DISABLED","textboxValue":"","type":"DYNAMIC"},"be7a68c4-fb97-43ea-bb94-0ded120bd3d7":{"allSelected":true,"customValue":"","defaultValue":"","description":"Model name being used in Anthropic API call","dynamicVariablesAttribute":"model_name","dynamicVariablesSource":"All telemetry","id":"be7a68c4-fb97-43ea-bb94-0ded120bd3d7","key":"be7a68c4-fb97-43ea-bb94-0ded120bd3d7","modificationUUID":"dfc5997d-c6a7-446c-a6ec-41cb59114a90","multiSelect":true,"name":"llm_model","order":0,"queryValue":"","showALLOption":true,"sort":"DISABLED","textboxValue":"","type":"DYNAMIC"}},"version":"v5","widgets":[{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"04247ee1-b408-457d-ac00-47ce45e64291","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"value","query":{"builder":{"queryData":[{"aggregations":[{"expression":"sum(gen_ai.usage.input_tokens) ) )"}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"a19a1c35-d3ce-4051-be9a-9d4121f53a02","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"c07aba2e-23ae-489d-a26a-67addb945e5d","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"8c0c1867-8732-45c2-961c-5ddcccafe221","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Input Tokens","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"d6cf07ab-f06e-43ce-a3fd-48ef0c3c9570","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"value","query":{"builder":{"queryData":[{"aggregations":[{"expression":"sum(gen_ai.usage.output_tokens) ) )"}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"aa7736f9-2c2f-4bdb-9297-3bad94c8ba8f","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"3cd23164-56fb-452a-a135-5031f36da4d1","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"5b4e4b8c-6878-4487-b010-67eacd372079","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Output Tokens","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"799913e6-fb95-497e-858a-6490b5f9d10d","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"value","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":true,"expression":"A","filter":{"expression":"has_error = 'true' service.name in $service_name agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"8117d482-77e5-46e3-81f4-679a6945fb30","key":{"id":"has_error","key":"has_error","type":""},"op":"=","value":"true"},{"id":"d82dd153-bfe5-4898-a2e2-14a4a32687fe","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null},{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":true,"expression":"B","filter":{"expression":"has_error = 'false' service.name in $service_name agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"23e8e5ac-0ef4-4a44-b0ab-f189b791b91a","key":{"id":"has_error","key":"has_error","type":""},"op":"=","value":"false"},{"id":"76b4cbec-a212-4c7d-8c6a-e625f5e92945","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"B","source":"","stepInterval":null}],"queryFormulas":[{"disabled":false,"expression":"A / (A+B)","legend":"","queryName":"F1"}],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"1f523f71-e388-4789-8d92-65075bffd256","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[{"index":"e5e05d41-7479-4d60-a1cf-c433b8b61285","isEditEnabled":false,"keyIndex":1,"selectedGraph":"value","thresholdColor":"Red","thresholdFormat":"Text","thresholdLabel":"","thresholdOperator":">","thresholdTableOptions":"A","thresholdUnit":"percentunit","thresholdValue":10},{"index":"d74bf17b-552a-4636-8fad-c976b090d590","isEditEnabled":false,"keyIndex":0,"selectedGraph":"value","thresholdColor":"Orange","thresholdFormat":"Text","thresholdLabel":"","thresholdOperator":">","thresholdTableOptions":"A","thresholdUnit":"percentunit","thresholdValue":5}],"timePreferance":"GLOBAL_TIME","title":"Error Rate","yAxisUnit":"percentunit"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"3633c7ad-203a-4e25-99f4-8cc81bf15d65","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"pie","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name model_name EXISTS"},"functions":[],"groupBy":[{"dataType":"","id":"model_name----","key":"model_name","type":""}],"having":{"expression":""},"legend":"{{model_name}}","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"58bce638-d12d-4d26-9b2a-b72a8ef7c6cf","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Model Distribution","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{"F1":"#eccd03"},"description":"","fillSpans":false,"id":"28bb5d45-046d-4980-ad5e-26b1aeecda2b","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregations":[{"expression":"sum(gen_ai.usage.input_tokens) ) ) ) )"}],"dataSource":"traces","disabled":true,"expression":"A","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"b69c8499-c09f-4d43-9bf4-3c5078d0c603","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"136503f4-029c-4612-b762-065a7e5a12a1","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null},{"aggregations":[{"expression":"sum(ai.usage.outputTokens) )"}],"dataSource":"traces","disabled":true,"expression":"B","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"1aef95ef-3725-4de3-9a30-f85022926670","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"196f014b-e05f-4b4c-a2f7-07eacd0a0427","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"B","source":"","stepInterval":null}],"queryFormulas":[{"disabled":false,"expression":"A + B","legend":"","queryName":"F1"}],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"fb321ad8-d654-4dc3-87b5-932c29e383f3","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Token Usage","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"af79b14b-5e76-47fb-a24e-a4629c642c28","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregations":[{"expression":"p95(duration_nano) "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"bfe03b3d-822d-4fa1-a155-5231224197a6","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"bf2ef6dd-a342-4f9c-85e7-9779ee403b78","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"533b7dd7-d082-41e1-9da1-53746fddad77","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Latency (P95)","yAxisUnit":"ns"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{"A":"#edce64","count()":"#a403ff"},"description":"","fillSpans":false,"id":"74a94376-eeaf-43c1-a273-5d8b98197138","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name model_name in $llm_model agent_name in $agent_name"},"filters":{"items":[{"id":"484085d4-2edd-402b-80f5-db8bf05d9428","key":{"dataType":"string","id":"agent_name--string--","key":"agent_name","type":""},"op":"IN","value":"$agent_name"},{"id":"1f83e12e-6c17-4821-a34b-4d68279e75f9","key":{"id":"service.name","key":"service.name","type":""},"op":"in","value":["$service_name"]},{"id":"b4fce3a2-d62b-4fc3-b0ba-fb1818f173bc","key":{"id":"model_name","key":"model_name","type":""},"op":"in","value":["$llm_model"]}],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"fd2c3953-e67e-409b-ad07-d54445f15c4d","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Number of Requests","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"columnWidths":{"date":145,"duration_nano":145,"http_method":145,"name":145,"response_status_code":145,"service.name":145},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"5e66cb8c-2219-47e6-ba71-8f82f9873bc8","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"list","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"has_error = true service.name IN $service_name"},"filters":{"items":[],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"offset":0,"orderBy":[{"columnName":"timestamp","order":"desc"}],"pageSize":10,"queryName":"A","selectColumns":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"b85f93b2-09b5-4fcd-8aa8-f6a2875a41b5","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Errors","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{"A":""},"columnWidths":{"A":145,"service.name":145,"telemetry.sdk.language":145},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"67a074ee-c46e-4a36-8f5c-10d981cae404","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"table","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() as 'Count of Spans' "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name = $service_name  AND telemetry.sdk.language EXISTS"},"filters":{"items":[],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"service.name--string--resource","isColumn":true,"isJSON":false,"key":"service.name","type":"resource"},{"dataType":"string","id":"telemetry.sdk.language--string--resource","isColumn":false,"isJSON":false,"key":"telemetry.sdk.language","type":"resource"}],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"33cb8bea-966e-45cb-926f-6e722fef9ab7","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Services and Languages","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"contextLinks":{"linksData":[]},"customLegendColors":{"A":"#5eddce"},"description":"","fillSpans":false,"id":"bc6e3017-2b44-4152-a0d7-fe11e6b7a290","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregations":[{"metricName":"http.client.duration.max","reduceTo":"avg","spaceAggregation":"avg","temporality":"","timeAggregation":"avg"}],"dataSource":"metrics","disabled":false,"expression":"A","filter":{"expression":"service.name IN $service_name"},"filters":{"items":[],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"5a8ddb76-cef4-4ea4-9185-1b8331ef3b5b","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"HTTP Request Duration","yAxisUnit":"ms"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"columnWidths":{"body":350,"timestamp":100},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"05e6759b-c460-4618-86c0-5d2bf0b311c1","isLogScale":false,"isStacked":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"list","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"logs","disabled":false,"expression":"A","filter":{"expression":"service.name IN $service_name"},"filters":{"items":[],"op":"AND"},"functions":[],"groupBy":[],"having":{"expression":""},"legend":"","limit":null,"offset":0,"orderBy":[{"columnName":"timestamp","order":"desc"},{"columnName":"id","order":"desc"}],"pageSize":10,"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"d0c96eea-6c4d-4c46-92a1-9a9e2b1af925","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"API Requests","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{"A":""},"columnWidths":{"A":145,"gen_ai.agent.name":145},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"1439219a-7067-4f3b-9308-1c405844cdab","isLogScale":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"table","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name gen_ai.agent.name EXISTS"},"functions":[],"groupBy":[{"dataType":"string","id":"gen_ai.agent.name--string--tag","isColumn":false,"isJSON":false,"key":"gen_ai.agent.name","type":"tag"}],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"0399e928-5bbc-43a2-8f1a-14498c0d839a","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Agents","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{"A":""},"columnWidths":{"A":145,"gen_ai.tool.name":145},"contextLinks":{"linksData":[]},"customLegendColors":{},"description":"","fillSpans":false,"id":"68d3a601-afac-4c63-b212-61667e0f9d70","isLogScale":false,"legendPosition":"bottom","mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"table","query":{"builder":{"queryData":[{"aggregations":[{"expression":"count() "}],"dataSource":"traces","disabled":false,"expression":"A","filter":{"expression":"service.name in $service_name gen_ai.tool.name EXISTS "},"functions":[],"groupBy":[{"dataType":"string","id":"gen_ai.tool.name--string--tag","isColumn":false,"isJSON":false,"key":"gen_ai.tool.name","type":"tag"}],"having":{"expression":""},"legend":"","limit":null,"orderBy":[],"queryName":"A","source":"","stepInterval":null}],"queryFormulas":[],"queryTraceOperator":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"1c6e09e0-30c6-4d27-81df-e432354d9999","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"timestamp","signal":"logs","type":"log"},{"dataType":"","fieldContext":"log","fieldDataType":"","isIndexed":false,"name":"body","signal":"logs","type":"log"}],"selectedTracesFields":[{"fieldContext":"resource","fieldDataType":"string","name":"service.name","signal":"traces"},{"fieldContext":"span","fieldDataType":"string","name":"name","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"duration_nano","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"http_method","signal":"traces"},{"fieldContext":"span","fieldDataType":"","name":"response_status_code","signal":"traces"}],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Tools","yAxisUnit":"none"}]}