{
  "title": "Kong Monitoring Dashboard",
  "description": "SigNoz dashboard for Kong Gateway observability using OpenTelemetry and Kong metrics.",
  "tags": ["kong", "gateway", "signoz", "promql"],
  "uploadedGrafana": false,
  "version": "v5",
  "uuid": "4c85655e-a6fc-4a3d-b762-8f595f0f5700",
  "layout": [
    {"h": 4, "i": "w01", "moved": false, "static": false, "w": 3, "x": 0, "y": 0},
    {"h": 4, "i": "w02", "moved": false, "static": false, "w": 3, "x": 3, "y": 0},
    {"h": 4, "i": "w03", "moved": false, "static": false, "w": 3, "x": 6, "y": 0},
    {"h": 4, "i": "w04", "moved": false, "static": false, "w": 3, "x": 9, "y": 0},
    {"h": 4, "i": "w05", "moved": false, "static": false, "w": 3, "x": 0, "y": 4},
    {"h": 6, "i": "w06", "moved": false, "static": false, "w": 9, "x": 3, "y": 4},

    {"h": 6, "i": "w07", "moved": false, "static": false, "w": 6, "x": 0, "y": 10},
    {"h": 6, "i": "w08", "moved": false, "static": false, "w": 6, "x": 6, "y": 10},
    {"h": 4, "i": "w09", "moved": false, "static": false, "w": 6, "x": 0, "y": 16},
    {"h": 4, "i": "w10", "moved": false, "static": false, "w": 6, "x": 6, "y": 16},

    {"h": 4, "i": "w11", "moved": false, "static": false, "w": 4, "x": 0, "y": 20},
    {"h": 6, "i": "w12", "moved": false, "static": false, "w": 8, "x": 4, "y": 20},
    {"h": 6, "i": "w13", "moved": false, "static": false, "w": 12, "x": 0, "y": 26},

    {"h": 4, "i": "w14", "moved": false, "static": false, "w": 3, "x": 0, "y": 32},
    {"h": 4, "i": "w15", "moved": false, "static": false, "w": 3, "x": 3, "y": 32},
    {"h": 6, "i": "w16", "moved": false, "static": false, "w": 6, "x": 6, "y": 32},
    {"h": 6, "i": "w17", "moved": false, "static": false, "w": 12, "x": 0, "y": 36},

    {"h": 6, "i": "w18", "moved": false, "static": false, "w": 6, "x": 0, "y": 42},
    {"h": 6, "i": "w19", "moved": false, "static": false, "w": 6, "x": 6, "y": 42},
    {"h": 4, "i": "w20", "moved": false, "static": false, "w": 6, "x": 0, "y": 48},
    {"h": 4, "i": "w21", "moved": false, "static": false, "w": 6, "x": 6, "y": 48},

    {"h": 4, "i": "w22", "moved": false, "static": false, "w": 4, "x": 0, "y": 52},
    {"h": 6, "i": "w23", "moved": false, "static": false, "w": 8, "x": 4, "y": 52},
    {"h": 6, "i": "w24", "moved": false, "static": false, "w": 12, "x": 0, "y": 58},

    {"h": 4, "i": "w25", "moved": false, "static": false, "w": 6, "x": 0, "y": 64},
    {"h": 4, "i": "w26", "moved": false, "static": false, "w": 6, "x": 6, "y": 64},
    {"h": 4, "i": "w27", "moved": false, "static": false, "w": 12, "x": 0, "y": 68}
  ],
  "panelMap": {},
  "variables": {
    "3f7ef9c2-c29b-4900-83cb-df5310af9b3d": {
      "allSelected": true,
      "customValue": "",
      "defaultValue": "",
      "description": "Kubernetes namespace",
      "dynamicVariablesAttribute": "k8s.namespace.name",
      "dynamicVariablesSource": "All telemetry",
      "id": "3f7ef9c2-c29b-4900-83cb-df5310af9b3d",
      "multiSelect": true,
      "name": "namespace",
      "order": 0,
      "queryValue": "",
      "showALLOption": true,
      "sort": "DISABLED",
      "textboxValue": "",
      "type": "DYNAMIC"
    },
    "02a57cbf-12a1-46b9-8e32-a0ad196be31f": {
      "allSelected": true,
      "customValue": "",
      "defaultValue": "",
      "description": "Service name",
      "dynamicVariablesAttribute": "service.name",
      "dynamicVariablesSource": "All telemetry",
      "id": "02a57cbf-12a1-46b9-8e32-a0ad196be31f",
      "multiSelect": true,
      "name": "service",
      "order": 1,
      "queryValue": "",
      "showALLOption": true,
      "sort": "DISABLED",
      "textboxValue": "",
      "type": "DYNAMIC"
    },
    "2ee9a3b3-2df8-4a26-8960-32b4ce2be3fb": {
      "allSelected": true,
      "customValue": "",
      "defaultValue": "",
      "description": "Deployment environment",
      "dynamicVariablesAttribute": "deployment.environment",
      "dynamicVariablesSource": "All telemetry",
      "id": "2ee9a3b3-2df8-4a26-8960-32b4ce2be3fb",
      "multiSelect": true,
      "name": "deployment.environment",
      "order": 2,
      "queryValue": "",
      "showALLOption": true,
      "sort": "DISABLED",
      "textboxValue": "",
      "type": "DYNAMIC"
    },
    "4bb3ebd4-dd31-4602-8303-f3fd1be31d8d": {
      "allSelected": true,
      "customValue": "",
      "defaultValue": "",
      "description": "Cluster",
      "dynamicVariablesAttribute": "k8s.cluster.name",
      "dynamicVariablesSource": "All telemetry",
      "id": "4bb3ebd4-dd31-4602-8303-f3fd1be31d8d",
      "multiSelect": true,
      "name": "cluster",
      "order": 3,
      "queryValue": "",
      "showALLOption": true,
      "sort": "DISABLED",
      "textboxValue": "",
      "type": "DYNAMIC"
    }
  },
  "widgets": [
    {
      "id": "w01",
      "title": "General Overview - Total Requests",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w01", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(increase(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom",
      "nullZeroValues": "zero",
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "contextLinks": {"linksData": []},
      "customLegendColors": {},
      "description": "",
      "fillSpans": false,
      "isLogScale": false,
      "isStacked": false,
      "mergeAllActiveQueries": false,
      "opacity": "1",
      "softMax": 0,
      "softMin": 0,
      "stackedBarChart": false,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "yAxisUnit": "none"
    },
    {
      "id": "w02",
      "title": "General Overview - Active Connections",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w02", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(kong_nginx_connections_active{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"})"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w03",
      "title": "General Overview - Uptime (seconds)",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w03", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "max(time() - process_start_time_seconds{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"})"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "s"
    },
    {
      "id": "w04",
      "title": "General Overview - CPU Usage (%)",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w04", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\",pod=~\"$service.*\",cluster=~\"$cluster\"}[5m])) * 100"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "percentunit"
    },
    {
      "id": "w05",
      "title": "General Overview - Memory Usage",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w05", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\",pod=~\"$service.*\",cluster=~\"$cluster\"})"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "bytes"
    },
    {
      "id": "w06",
      "title": "Request Metrics - Request Rate",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w06", "promql": [{"disabled": false, "legend": "Request rate", "name": "A", "query": "sum(rate(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[1m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "reqps"
    },
    {
      "id": "w07",
      "title": "Request Metrics - Response Status Codes",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w07", "promql": [{"disabled": false, "legend": "{{http_response_status_code}}", "name": "A", "query": "sum by (http_response_status_code) (rate(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": true, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": true, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "reqps"
    },
    {
      "id": "w08",
      "title": "Request Metrics - Request Size",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w08", "promql": [{"disabled": false, "legend": "Avg request size", "name": "A", "query": "avg_over_time(http_server_request_body_size_bytes{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "bytes"
    },
    {
      "id": "w09",
      "title": "Request Metrics - Response Size",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w09", "promql": [{"disabled": false, "legend": "Avg response size", "name": "A", "query": "avg_over_time(http_server_response_body_size_bytes{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "bytes"
    },
    {
      "id": "w10",
      "title": "Latency Metrics - Average Request Latency",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w10", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "avg_over_time(kong_latency_internal{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "ms"
    },
    {
      "id": "w11",
      "title": "Latency Metrics - Upstream Latency",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w11", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "avg_over_time(kong_latency_upstream{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "ms"
    },
    {
      "id": "w12",
      "title": "Latency Metrics - Request Latency Percentiles (P50/P90/P99)",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w12", "promql": [{"disabled": false, "legend": "P50", "name": "A", "query": "quantile_over_time(0.50, kong_latency_internal{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}, {"disabled": false, "legend": "P90", "name": "B", "query": "quantile_over_time(0.90, kong_latency_internal{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}, {"disabled": false, "legend": "P99", "name": "C", "query": "quantile_over_time(0.99, kong_latency_internal{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "ms"
    },
    {
      "id": "w13",
      "title": "Error Metrics - Total Errors",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w13", "promql": [{"disabled": false, "legend": "Total errors", "name": "A", "query": "sum(increase(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\",http_response_status_code=~\"4..|5..\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w14",
      "title": "Error Metrics - Error Rate (%)",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w14", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "(sum(rate(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\",http_response_status_code=~\"4..|5..\"}[5m])) / sum(rate(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))) * 100"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "percentunit"
    },
    {
      "id": "w15",
      "title": "Error Metrics - Top Error Types",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w15", "promql": [{"disabled": false, "legend": "Top status", "name": "A", "query": "topk(1, sum by (http_response_status_code) (increase(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\",http_response_status_code=~\"4..|5..\"}[5m])))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w16",
      "title": "Error Metrics - Top Error Types (Distribution)",
      "panelTypes": "pie",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w16", "promql": [{"disabled": false, "legend": "{{http_response_status_code}}", "name": "A", "query": "sum by (http_response_status_code) (increase(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\",http_response_status_code=~\"4..|5..\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w17",
      "title": "Error Metrics - Failed Requests by Service",
      "panelTypes": "table",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w17", "promql": [{"disabled": false, "legend": "{{service_name}}", "name": "A", "query": "sum by (service_name) (increase(http_server_request_count{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\",http_response_status_code=~\"4..|5..\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w18",
      "title": "Traffic Metrics - Incoming Traffic Volume",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w18", "promql": [{"disabled": false, "legend": "Incoming", "name": "A", "query": "sum(rate(http_server_request_body_size_bytes{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "Bps"
    },
    {
      "id": "w19",
      "title": "Traffic Metrics - Outgoing Traffic Volume",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w19", "promql": [{"disabled": false, "legend": "Outgoing", "name": "A", "query": "sum(rate(http_server_response_body_size_bytes{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "Bps"
    },
    {
      "id": "w20",
      "title": "Traffic Metrics - Connection Rate",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w20", "promql": [{"disabled": false, "legend": "Accepted connections", "name": "A", "query": "sum(rate(kong_nginx_connections_accepted_total{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w21",
      "title": "Traffic Metrics - Rejected Connections",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w21", "promql": [{"disabled": false, "legend": "Rejected connections", "name": "A", "query": "sum(rate(kong_nginx_connections_rejected_total{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w22",
      "title": "Plugin Metrics - Active Plugins",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w22", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "count(count by (plugin) (kong_plugin_info{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w23",
      "title": "Plugin Metrics - Plugin Error Rates",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w23", "promql": [{"disabled": false, "legend": "{{plugin}}", "name": "A", "query": "sum by (plugin) (rate(kong_plugin_errors_total{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    },
    {
      "id": "w24",
      "title": "Plugin Metrics - Plugin Latency (P95)",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w24", "promql": [{"disabled": false, "legend": "{{plugin}}", "name": "A", "query": "histogram_quantile(0.95, sum by (le, plugin) (rate(kong_plugin_latency_ms_bucket{namespace=~\"$namespace\",service_name=~\"$service\",deployment_environment=~\"$deployment.environment\",cluster=~\"$cluster\"}[5m])))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "ms"
    },
    {
      "id": "w25",
      "title": "Resource Usage - CPU Usage (%)",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w25", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\",pod=~\"$service.*\",cluster=~\"$cluster\"}[5m])) * 100"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "percentunit"
    },
    {
      "id": "w26",
      "title": "Resource Usage - Memory Usage",
      "panelTypes": "value",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w26", "promql": [{"disabled": false, "legend": "", "name": "A", "query": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\",pod=~\"$service.*\",cluster=~\"$cluster\"})"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "bytes"
    },
    {
      "id": "w27",
      "title": "Resource Usage - Pod Restarts",
      "panelTypes": "graph",
      "query": {"builder": {"queryData": [], "queryFormulas": [], "queryTraceOperator": []}, "clickhouse_sql": [{"disabled": false, "legend": "", "name": "A", "query": ""}], "id": "q-w27", "promql": [{"disabled": false, "legend": "{{pod}}", "name": "A", "query": "sum by (pod) (increase(kube_pod_container_status_restarts_total{namespace=~\"$namespace\",cluster=~\"$cluster\",pod=~\"$service.*\"}[1h]))"}], "queryType": "promql"},
      "legendPosition": "bottom", "nullZeroValues": "zero", "bucketCount": 30, "bucketWidth": 0, "columnUnits": {}, "contextLinks": {"linksData": []}, "customLegendColors": {}, "description": "", "fillSpans": false, "isLogScale": false, "isStacked": false, "mergeAllActiveQueries": false, "opacity": "1", "softMax": 0, "softMin": 0, "stackedBarChart": false, "thresholds": [], "timePreferance": "GLOBAL_TIME", "yAxisUnit": "none"
    }
  ]
}
