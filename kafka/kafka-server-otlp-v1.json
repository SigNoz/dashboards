{
  "id": "07b6d26b-21aa-4b42-904e-30468ce7af88",
  "description": "Comprehensive monitoring dashboard for self-hosted Apache Kafka clusters using OTLP metrics from the OpenTelemetry Kafka receiver. Tracks broker health, topic throughput, partition replication, consumer group lag, request performance, and log management.",
  "layout": [
    {
      "h": 1,
      "i": "dd0b32ec-351f-438b-b60e-346d510928b1",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 0
    },
    {
      "h": 3,
      "i": "7525bdcb-cda0-407c-b2ee-7cf6ab77bc40",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 3,
      "x": 0,
      "y": 1
    },
    {
      "h": 3,
      "i": "44337ece-fb33-4ecb-bc5c-43484f7f342b",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 3,
      "x": 3,
      "y": 1
    },
    {
      "h": 3,
      "i": "827250ca-7f78-4eb7-9585-c0347b652a21",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 3,
      "x": 6,
      "y": 1
    },
    {
      "h": 3,
      "i": "d586956d-fd38-4122-b55d-40f47037b8fd",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 3,
      "x": 9,
      "y": 1
    },
    {
      "h": 1,
      "i": "59cae136-5cc8-42fc-8862-4c2de15d1f57",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 4
    },
    {
      "h": 3,
      "i": "dc201e24-bd0f-4e18-a8f8-7f83ddc1a848",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 5
    },
    {
      "h": 3,
      "i": "5389f8bc-539a-42d2-a660-6702eaef9ca2",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 5
    },
    {
      "h": 3,
      "i": "2550009c-aabe-41c7-ab41-6da527e7582a",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 8
    },
    {
      "h": 3,
      "i": "ef9349eb-0147-424f-b8bf-de4c6564f5bc",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 8
    },
    {
      "h": 1,
      "i": "0f142556-c676-46f1-9191-186fa5562a11",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 11
    },
    {
      "h": 3,
      "i": "7707c2dd-e1cd-41ab-8a41-27a20c6cb215",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 0,
      "y": 12
    },
    {
      "h": 3,
      "i": "6c138a0c-db3b-4f33-b452-be08b0a069ed",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 4,
      "y": 12
    },
    {
      "h": 3,
      "i": "d9ca05dc-c128-4707-adfd-193551bf80cc",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 8,
      "y": 12
    },
    {
      "h": 1,
      "i": "24777b55-270f-40c6-ac9c-731715d13722",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 15
    },
    {
      "h": 3,
      "i": "106c6980-2235-47df-8b89-12e2e3deb968",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 16
    },
    {
      "h": 3,
      "i": "4fea2081-183f-40a5-bd23-8726f300dc00",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 16
    },
    {
      "h": 3,
      "i": "c3f824f1-2758-4ed5-a44d-c55bc645ffdb",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 0,
      "y": 19
    },
    {
      "h": 3,
      "i": "584aaea3-625b-4b2a-bd7c-e9f3ed891173",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 6,
      "x": 6,
      "y": 19
    },
    {
      "h": 1,
      "i": "a4eaec96-56d0-47e4-878e-53e051309eb6",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 22
    },
    {
      "h": 3,
      "i": "c1368370-3700-461b-9257-174e358509ef",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 0,
      "y": 23
    },
    {
      "h": 3,
      "i": "ed6b4376-c548-44b1-809a-12712b6691e3",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 4,
      "y": 23
    },
    {
      "h": 3,
      "i": "5c90dc2e-248a-4037-9d7f-4c9942826242",
      "maxH": null,
      "minH": 2,
      "minW": 2,
      "moved": false,
      "static": false,
      "w": 4,
      "x": 8,
      "y": 23
    }
  ],
  "name": "kafka-server",
  "tags": [
    "kafka",
    "messaging",
    "streaming",
    "otlp"
  ],
  "title": "Kafka Server Monitoring",
  "variables": {
    "d34cc1e9-493e-42c7-82ef-4e9de9fb2a2c": {
      "allSelected": true,
      "customValue": "",
      "description": "Deployment environment filter",
      "id": "d34cc1e9-493e-42c7-82ef-4e9de9fb2a2c",
      "key": "d34cc1e9-493e-42c7-82ef-4e9de9fb2a2c",
      "multiSelect": true,
      "name": "deployment.environment",
      "order": 0,
      "queryValue": "SELECT JSONExtractString(labels, 'deployment.environment') AS `deployment.environment`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'kafka.brokers'\nAND unix_milli >= {{.start_timestamp}}\nAND unix_milli < {{.end_timestamp}}\nGROUP BY `deployment.environment`\nORDER BY `deployment.environment` ASC",
      "selectedValue": "ALL",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "dc111900-3798-44f7-a07d-0c7d81373890": {
      "allSelected": true,
      "customValue": "",
      "description": "Service name filter",
      "id": "dc111900-3798-44f7-a07d-0c7d81373890",
      "key": "dc111900-3798-44f7-a07d-0c7d81373890",
      "multiSelect": true,
      "name": "service.name",
      "order": 1,
      "queryValue": "SELECT JSONExtractString(labels, 'service.name') AS `service.name`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'kafka.brokers'\nAND unix_milli >= {{.start_timestamp}}\nAND unix_milli < {{.end_timestamp}}\nGROUP BY `service.name`\nORDER BY `service.name` ASC",
      "selectedValue": "ALL",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "a74f06e4-0557-40a5-901d-e84aba1038a5": {
      "allSelected": true,
      "customValue": "",
      "description": "Kafka topic filter",
      "id": "a74f06e4-0557-40a5-901d-e84aba1038a5",
      "key": "a74f06e4-0557-40a5-901d-e84aba1038a5",
      "multiSelect": true,
      "name": "topic",
      "order": 2,
      "queryValue": "SELECT JSONExtractString(labels, 'topic') AS `topic`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'kafka.topic.partitions'\nAND unix_milli >= {{.start_timestamp}}\nAND unix_milli < {{.end_timestamp}}\nGROUP BY `topic`\nORDER BY `topic` ASC",
      "selectedValue": "ALL",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    }
  },
  "widgets": [
    {
      "description": "",
      "fillSpans": false,
      "id": "dd0b32ec-351f-438b-b60e-346d510928b1",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "row",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "765fc3dc-f83d-4e44-bf33-352cf8e87f99",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Cluster Overview",
      "yAxisUnit": "none"
    },
    {
      "description": "Total number of brokers in the Kafka cluster",
      "fillSpans": false,
      "id": "7525bdcb-cda0-407c-b2ee-7cf6ab77bc40",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.brokers--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.brokers",
                "type": "Gauge"
              },
              "aggregateOperator": "latest",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "65bb623b",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "0d1a0c48",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "eb801d87",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [],
              "having": [],
              "legend": "Brokers",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "latest",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "518f9d1f-2a4d-4e31-ac35-d0a1c6222cdd",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Broker Count",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Total number of partitions across all topics",
      "fillSpans": false,
      "id": "44337ece-fb33-4ecb-bc5c-43484f7f342b",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.topic.partitions--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.topic.partitions",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "05fd3c3b",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "23be1394",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "6844bb84",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [],
              "having": [],
              "legend": "Partitions",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "f1084ed5-cb52-41e6-b5d6-0e4ea0ee8d87",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Total Partitions",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Total number of in-sync replicas across all partitions. A healthy cluster should have ISR count equal to total replica count.",
      "fillSpans": false,
      "id": "827250ca-7f78-4eb7-9585-c0347b652a21",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.partition.replicas_in_sync--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.partition.replicas_in_sync",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "a855c324",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "4f72530d",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "4725d371",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [],
              "having": [],
              "legend": "In-Sync Replicas",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "b1a3e8c4-92f1-4d3a-b7e5-8c6f9d0a1b2e",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "In-Sync Replicas",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Under-replicated partitions: difference between total replicas and in-sync replicas. Non-zero values indicate replication problems.",
      "fillSpans": false,
      "id": "d586956d-fd38-4122-b55d-40f47037b8fd",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.partition.replicas--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.partition.replicas",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "4eee8b4e",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "be3793d6",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "69d82046",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [],
              "having": [],
              "legend": "Total Replicas",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            },
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.partition.replicas_in_sync--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.partition.replicas_in_sync",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "B",
              "filters": {
                "items": [
                  {
                    "id": "0d9fe6dc",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "34a97a7e",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "d17aca65",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [],
              "having": [],
              "legend": "In-Sync Replicas",
              "limit": null,
              "orderBy": [],
              "queryName": "B",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": [
            {
              "disabled": false,
              "expression": "A - B",
              "legend": "Under-Replicated",
              "queryName": "F1"
            }
          ]
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "c2d4e6f8-1a3b-5c7d-9e0f-2b4d6a8c0e1f",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Under-Replicated Partitions",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "",
      "fillSpans": false,
      "id": "59cae136-5cc8-42fc-8862-4c2de15d1f57",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "row",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "a3b5c7d9-e1f2-4a6b-8c0d-3e5f7a9b1c2d",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Throughput",
      "yAxisUnit": "none"
    },
    {
      "description": "Rate of messages received by the Kafka cluster per second",
      "fillSpans": false,
      "id": "dc201e24-bd0f-4e18-a8f8-7f83ddc1a848",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.message.count--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.message.count",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "bc6b974a",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "2fddad5f",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "239ed416",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "b4c6d8e0-2f4a-5b7c-9d1e-3a5c7f9b0d2e",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Messages In Rate",
      "yAxisUnit": "cps",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Network I/O bytes per second, split by ingress and egress direction",
      "fillSpans": false,
      "id": "5389f8bc-539a-42d2-a660-6702eaef9ca2",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.network.io--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.network.io",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "direction--string--tag--false",
                    "key": {
                      "dataType": "string",
                      "id": "direction--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "direction",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "in"
                  },
                  {
                    "id": "7051a091",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "59c2ab35",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "3e667860",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "In - {{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            },
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.network.io--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.network.io",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "B",
              "filters": {
                "items": [
                  {
                    "id": "direction--string--tag--false",
                    "key": {
                      "dataType": "string",
                      "id": "direction--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "direction",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "out"
                  },
                  {
                    "id": "09bd4263",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "82cf68be",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "b32a63a6",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "Out - {{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "B",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "c5d7e9f1-3a5b-6c8d-0e2f-4b6d8a0c2e3f",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Network Bytes In/Out",
      "yAxisUnit": "binBps",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Total request rate across all Kafka brokers, broken down by request type",
      "fillSpans": false,
      "id": "2550009c-aabe-41c7-ab41-6da527e7582a",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.request.count--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.request.count",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "b98821ee",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "2e6a9de8",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "5bea1f97",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "type--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "type",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{type}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "d6e8f0a2-4b6c-7d9e-1f3a-5c7e9b1d3f4a",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Request Rate",
      "yAxisUnit": "reqps",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Number of partitions per topic, useful for identifying topic sizing and rebalancing needs",
      "fillSpans": false,
      "id": "ef9349eb-0147-424f-b8bf-de4c6564f5bc",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.topic.partitions--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.topic.partitions",
                "type": "Gauge"
              },
              "aggregateOperator": "latest",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "866f99d8",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "bfa68bb8",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "ece92502",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "topic--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "topic",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{topic}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "latest",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "e7f9a1b3-5c7d-8e0f-2a4b-6d8f0b2e4a5b",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Partitions Per Topic",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "",
      "fillSpans": false,
      "id": "0f142556-c676-46f1-9191-186fa5562a11",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "row",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "f8a0b2c4-6d8e-9f1a-3b5c-7e0f2a4d6b8c",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Consumer Groups",
      "yAxisUnit": "none"
    },
    {
      "description": "Consumer group lag per group and topic. High lag indicates consumers are falling behind producers.",
      "fillSpans": false,
      "id": "7707c2dd-e1cd-41ab-8a41-27a20c6cb215",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.consumer_group.lag--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.consumer_group.lag",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "87b3fc46",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "e0d8380c",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "ecffe79f",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "group--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "group",
                  "type": "tag"
                },
                {
                  "dataType": "string",
                  "id": "topic--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "topic",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{group}} - {{topic}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "a1b3c5d7-8e0f-2a4b-6c8d-9f1e3b5d7a9c",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Consumer Group Lag",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Committed offset per consumer group. Tracks consumption progress across partitions.",
      "fillSpans": false,
      "id": "6c138a0c-db3b-4f33-b452-be08b0a069ed",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.consumer_group.offset_sum--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.consumer_group.offset_sum",
                "type": "Gauge"
              },
              "aggregateOperator": "latest",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "dd01308f",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "b73d6a44",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "ca7622ae",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "group--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "group",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{group}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "latest",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "b2c4d6e8-9f1a-3b5c-7d0e-2a4f6b8d0c1e",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Consumer Group Offset (Sum)",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Number of active members in each consumer group. Drops indicate consumer failures or rebalancing.",
      "fillSpans": false,
      "id": "d9ca05dc-c128-4707-adfd-193551bf80cc",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.consumer_group.members--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.consumer_group.members",
                "type": "Gauge"
              },
              "aggregateOperator": "latest",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "1972f287",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "e2b7903e",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "616d5988",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "group--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "group",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{group}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "last",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "latest",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "c3d5e7f9-0a2b-4c6d-8e1f-3b5a7d9c0e2f",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Consumer Group Members",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "",
      "fillSpans": false,
      "id": "24777b55-270f-40c6-ac9c-731715d13722",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "row",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "d4e6f8a0-1b3c-5d7e-9f2a-4b6c8d0e2f3a",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Request Performance",
      "yAxisUnit": "none"
    },
    {
      "description": "Total request count broken down by request type (produce, fetch, etc.)",
      "fillSpans": false,
      "id": "106c6980-2235-47df-8b89-12e2e3deb968",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.request.count--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.request.count",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "16bc0f3e",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "91bc470e",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "d2ee15e8",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "type--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "type",
                  "type": "tag"
                },
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{type}} - {{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "e5f7a9b1-2c4d-6e8f-0a3b-5c7d9e1f3a4b",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Request Count by Type",
      "yAxisUnit": "reqps",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Rate of failed requests broken down by request type. Non-zero values indicate broker-side processing errors.",
      "fillSpans": false,
      "id": "4fea2081-183f-40a5-bd23-8726f300dc00",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.request.failed--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.request.failed",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "85438a0f",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "45a4e31e",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "c3180dce",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "type--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "type",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{type}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "f6a8b0c2-3d5e-7f9a-1b4c-6d8e0f2a4b5c",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Failed Requests",
      "yAxisUnit": "reqps",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Average time spent processing requests. High values indicate broker overload or slow disks.",
      "fillSpans": false,
      "id": "c3f824f1-2758-4ed5-a44d-c55bc645ffdb",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.request.time.avg--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.request.time.avg",
                "type": "Gauge"
              },
              "aggregateOperator": "avg",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "b0395d2d",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "f5e54409",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "25640ef2",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "type--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "type",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{type}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "avg",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "avg",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "a7b9c1d3-4e6f-8a0b-2c5d-7e9f1a3b5c6d",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Avg Request Time",
      "yAxisUnit": "ms",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Number of requests waiting in the purgatory (delayed request queue). High values indicate produce/fetch requests are pending acknowledgement.",
      "fillSpans": false,
      "id": "584aaea3-625b-4b2a-bd7c-e9f3ed891173",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.purgatory.size--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.purgatory.size",
                "type": "Gauge"
              },
              "aggregateOperator": "avg",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "3fbb1b29",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "4ed95d09",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "bd2c8d40",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "type--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "type",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{type}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "avg",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "avg",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "b8c0d2e4-5f7a-9b1c-3d6e-8f0a2b4c6d7e",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Purgatory Size",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "",
      "fillSpans": false,
      "id": "a4eaec96-56d0-47e4-878e-53e051309eb6",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "row",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "c9d1e3f5-6a8b-0c2d-4e7f-9a1b3c5d7e8f",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Log Management",
      "yAxisUnit": "none"
    },
    {
      "description": "Rate of log flush operations. Frequent flushes may indicate heavy write activity or aggressive flush configuration.",
      "fillSpans": false,
      "id": "c1368370-3700-461b-9257-174e358509ef",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.logs.flush.time.count--float64--Sum--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.logs.flush.time.count",
                "type": "Sum"
              },
              "aggregateOperator": "sum_rate",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "4a7b1d39",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "926481c0",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "547492f1",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "rate",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "d0e2f4a6-7b9c-1d3e-5f8a-0b2c4d6e8f9a",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Log Flush Rate",
      "yAxisUnit": "ops",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Median time for log flush operations in milliseconds. Rising flush times indicate I/O contention or disk performance issues.",
      "fillSpans": false,
      "id": "ed6b4376-c548-44b1-809a-12712b6691e3",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.logs.flush.time.median--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.logs.flush.time.median",
                "type": "Gauge"
              },
              "aggregateOperator": "avg",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "99d7e818",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "fe98136f",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "20356c5e",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "service.name--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "service.name",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "{{service.name}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "avg",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "avg",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "e1f3a5b7-8c0d-2e4f-6a9b-1c3d5e7f9a0b",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Log Flush Time (Median)",
      "yAxisUnit": "ms",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    },
    {
      "description": "Current offset vs oldest offset per partition. The gap between them indicates the amount of retained data. Useful for capacity planning and retention monitoring.",
      "fillSpans": false,
      "id": "5c90dc2e-248a-4037-9d7f-4c9942826242",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.partition.current_offset--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.partition.current_offset",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "A",
              "filters": {
                "items": [
                  {
                    "id": "9fa05427",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "de2a312c",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "8fc14572",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "topic--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "topic",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "Current - {{topic}}",
              "limit": null,
              "orderBy": [],
              "queryName": "A",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            },
            {
              "aggregateAttribute": {
                "dataType": "float64",
                "id": "kafka.partition.oldest_offset--float64--Gauge--true",
                "isColumn": true,
                "isJSON": false,
                "key": "kafka.partition.oldest_offset",
                "type": "Gauge"
              },
              "aggregateOperator": "sum",
              "dataSource": "metrics",
              "disabled": false,
              "expression": "B",
              "filters": {
                "items": [
                  {
                    "id": "327d3ac8",
                    "key": {
                      "dataType": "string",
                      "id": "deployment.environment--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "deployment.environment",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.deployment.environment}}"
                  },
                  {
                    "id": "8d37cb44",
                    "key": {
                      "dataType": "string",
                      "id": "service.name--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "service.name",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.service.name}}"
                  },
                  {
                    "id": "ca5373c1",
                    "key": {
                      "dataType": "string",
                      "id": "topic--string--tag--false",
                      "isColumn": false,
                      "isJSON": false,
                      "key": "topic",
                      "type": "tag"
                    },
                    "op": "=",
                    "value": "{{.topic}}"
                  }
                ],
                "op": "AND"
              },
              "groupBy": [
                {
                  "dataType": "string",
                  "id": "topic--string--tag--false",
                  "isColumn": false,
                  "isJSON": false,
                  "key": "topic",
                  "type": "tag"
                }
              ],
              "having": [],
              "legend": "Oldest - {{topic}}",
              "limit": null,
              "orderBy": [],
              "queryName": "B",
              "reduceTo": "sum",
              "stepInterval": 60,
              "functions": [],
              "timeAggregation": "sum",
              "spaceAggregation": "sum"
            }
          ],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "f2a4b6c8-9d1e-3f5a-7b0c-2d4e6f8a1b3c",
        "promql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "queryType": "builder"
      },
      "softMax": null,
      "softMin": null,
      "thresholds": [],
      "timePreferance": "GLOBAL_TIME",
      "title": "Current vs Oldest Offset",
      "yAxisUnit": "short",
      "selectedLogFields": [
        {
          "dataType": "string",
          "name": "body",
          "type": ""
        },
        {
          "dataType": "string",
          "name": "timestamp",
          "type": ""
        }
      ],
      "selectedTracesFields": [
        {
          "dataType": "string",
          "id": "serviceName--string--tag--true",
          "isColumn": true,
          "key": "serviceName",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "name--string--tag--true",
          "isColumn": true,
          "key": "name",
          "type": "tag"
        },
        {
          "dataType": "float64",
          "id": "durationNano--float64--tag--true",
          "isColumn": true,
          "key": "durationNano",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "httpMethod--string--tag--true",
          "isColumn": true,
          "key": "httpMethod",
          "type": "tag"
        },
        {
          "dataType": "string",
          "id": "responseStatusCode--string--tag--true",
          "isColumn": true,
          "key": "responseStatusCode",
          "type": "tag"
        }
      ],
      "bucketCount": 30,
      "bucketWidth": 0,
      "columnUnits": {},
      "mergeAllActiveQueries": false,
      "stackedBarChart": false
    }
  ],
  "version": "v4",
  "uploadedGrafana": false
}
