{
  "description": "SigNoz dashboard for monitoring cert-manager certificate lifecycle, reliability, and resource usage.",
  "layout": [
    { "h": 1, "i": "row-general", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 0 },
    { "h": 4, "i": "general-total", "moved": false, "static": false, "w": 3, "x": 0, "y": 1 },
    { "h": 4, "i": "general-active", "moved": false, "static": false, "w": 3, "x": 3, "y": 1 },
    { "h": 4, "i": "general-requests", "moved": false, "static": false, "w": 3, "x": 6, "y": 1 },
    { "h": 4, "i": "general-uptime", "moved": false, "static": false, "w": 3, "x": 9, "y": 1 },

    { "h": 1, "i": "row-issuance", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 5 },
    { "h": 6, "i": "iss-per-issuer", "moved": false, "static": false, "w": 6, "x": 0, "y": 6 },
    { "h": 6, "i": "iss-rate", "moved": false, "static": false, "w": 3, "x": 6, "y": 6 },
    { "h": 6, "i": "iss-success", "moved": false, "static": false, "w": 3, "x": 9, "y": 6 },

    { "h": 1, "i": "row-renewal", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 12 },
    { "h": 6, "i": "ren-pending", "moved": false, "static": false, "w": 4, "x": 0, "y": 13 },
    { "h": 6, "i": "ren-success", "moved": false, "static": false, "w": 4, "x": 4, "y": 13 },
    { "h": 6, "i": "ren-duration", "moved": false, "static": false, "w": 4, "x": 8, "y": 13 },

    { "h": 1, "i": "row-errors", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 19 },
    { "h": 6, "i": "err-issuance", "moved": false, "static": false, "w": 4, "x": 0, "y": 20 },
    { "h": 6, "i": "err-renewal", "moved": false, "static": false, "w": 4, "x": 4, "y": 20 },
    { "h": 6, "i": "err-api", "moved": false, "static": false, "w": 4, "x": 8, "y": 20 },

    { "h": 1, "i": "row-resources", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 26 },
    { "h": 6, "i": "res-cpu", "moved": false, "static": false, "w": 4, "x": 0, "y": 27 },
    { "h": 6, "i": "res-memory", "moved": false, "static": false, "w": 4, "x": 4, "y": 27 },
    { "h": 6, "i": "res-restarts", "moved": false, "static": false, "w": 4, "x": 8, "y": 27 },

    { "h": 1, "i": "row-api-events", "maxH": 1, "minH": 1, "minW": 12, "moved": false, "static": false, "w": 12, "x": 0, "y": 33 },
    { "h": 6, "i": "api-rate", "moved": false, "static": false, "w": 4, "x": 0, "y": 34 },
    { "h": 6, "i": "event-rate", "moved": false, "static": false, "w": 4, "x": 4, "y": 34 },
    { "h": 6, "i": "api-failed", "moved": false, "static": false, "w": 4, "x": 8, "y": 34 }
  ],
  "name": "",
  "panelMap": {
    "row-general": {
      "collapsed": false,
      "widgets": [
        { "h": 4, "i": "general-total", "moved": false, "static": false, "w": 3, "x": 0, "y": 1 },
        { "h": 4, "i": "general-active", "moved": false, "static": false, "w": 3, "x": 3, "y": 1 },
        { "h": 4, "i": "general-requests", "moved": false, "static": false, "w": 3, "x": 6, "y": 1 },
        { "h": 4, "i": "general-uptime", "moved": false, "static": false, "w": 3, "x": 9, "y": 1 }
      ]
    },
    "row-issuance": {
      "collapsed": false,
      "widgets": [
        { "h": 6, "i": "iss-per-issuer", "moved": false, "static": false, "w": 6, "x": 0, "y": 6 },
        { "h": 6, "i": "iss-rate", "moved": false, "static": false, "w": 3, "x": 6, "y": 6 },
        { "h": 6, "i": "iss-success", "moved": false, "static": false, "w": 3, "x": 9, "y": 6 }
      ]
    },
    "row-renewal": {
      "collapsed": false,
      "widgets": [
        { "h": 6, "i": "ren-pending", "moved": false, "static": false, "w": 4, "x": 0, "y": 13 },
        { "h": 6, "i": "ren-success", "moved": false, "static": false, "w": 4, "x": 4, "y": 13 },
        { "h": 6, "i": "ren-duration", "moved": false, "static": false, "w": 4, "x": 8, "y": 13 }
      ]
    },
    "row-errors": {
      "collapsed": false,
      "widgets": [
        { "h": 6, "i": "err-issuance", "moved": false, "static": false, "w": 4, "x": 0, "y": 20 },
        { "h": 6, "i": "err-renewal", "moved": false, "static": false, "w": 4, "x": 4, "y": 20 },
        { "h": 6, "i": "err-api", "moved": false, "static": false, "w": 4, "x": 8, "y": 20 }
      ]
    },
    "row-resources": {
      "collapsed": false,
      "widgets": [
        { "h": 6, "i": "res-cpu", "moved": false, "static": false, "w": 4, "x": 0, "y": 27 },
        { "h": 6, "i": "res-memory", "moved": false, "static": false, "w": 4, "x": 4, "y": 27 },
        { "h": 6, "i": "res-restarts", "moved": false, "static": false, "w": 4, "x": 8, "y": 27 }
      ]
    },
    "row-api-events": {
      "collapsed": false,
      "widgets": [
        { "h": 6, "i": "api-rate", "moved": false, "static": false, "w": 4, "x": 0, "y": 34 },
        { "h": 6, "i": "event-rate", "moved": false, "static": false, "w": 4, "x": 4, "y": 34 },
        { "h": 6, "i": "api-failed", "moved": false, "static": false, "w": 4, "x": 8, "y": 34 }
      ]
    }
  },
  "tags": ["cert-manager", "kubernetes", "tls"],
  "title": "Cert-Manager Monitoring Dashboard",
  "version": "v4",
  "variables": {
    "cluster": {
      "allSelected": false,
      "customValue": "",
      "description": "Cluster label",
      "modificationUUID": "var-cluster-uuid",
      "multiSelect": false,
      "name": "cluster",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'cluster') FROM signoz_metrics.distributed_time_series_v4 WHERE metric_name='certmanager_certificate_ready_status'",
      "selectedValue": "",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "namespace": {
      "allSelected": false,
      "customValue": "",
      "description": "Kubernetes namespace",
      "modificationUUID": "var-namespace-uuid",
      "multiSelect": true,
      "name": "namespace",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'namespace') FROM signoz_metrics.distributed_time_series_v4 WHERE metric_name='certmanager_certificate_ready_status' AND JSONExtractString(labels, 'cluster')={{.cluster}}",
      "selectedValue": "",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "issuer": {
      "allSelected": false,
      "customValue": "",
      "description": "Certificate issuer name",
      "modificationUUID": "var-issuer-uuid",
      "multiSelect": true,
      "name": "issuer",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'issuer_name') FROM signoz_metrics.distributed_time_series_v4 WHERE metric_name='certmanager_certificate_ready_status' AND JSONExtractString(labels, 'namespace') IN {{.namespace}}",
      "selectedValue": "",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "certificate_name": {
      "allSelected": false,
      "customValue": "",
      "description": "Certificate resource name",
      "modificationUUID": "var-certificate-name-uuid",
      "multiSelect": true,
      "name": "certificate_name",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'name') FROM signoz_metrics.distributed_time_series_v4 WHERE metric_name='certmanager_certificate_ready_status' AND JSONExtractString(labels, 'namespace') IN {{.namespace}} AND JSONExtractString(labels, 'issuer_name') IN {{.issuer}}",
      "selectedValue": "",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "deployment.environment": {
      "allSelected": false,
      "customValue": "",
      "description": "Deployment environment label",
      "modificationUUID": "var-deployment-environment-uuid",
      "multiSelect": false,
      "name": "deployment.environment",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'deployment_environment') FROM signoz_metrics.distributed_time_series_v4 WHERE metric_name='certmanager_certificate_ready_status'",
      "selectedValue": "",
      "showALLOption": true,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    }
  },
  "widgets": [
    { "description": "", "id": "row-general", "panelTypes": "row", "title": "General Overview" },
    { "description": "", "id": "row-issuance", "panelTypes": "row", "title": "Certificate Issuance" },
    { "description": "", "id": "row-renewal", "panelTypes": "row", "title": "Certificate Renewal" },
    { "description": "", "id": "row-errors", "panelTypes": "row", "title": "Error Metrics" },
    { "description": "", "id": "row-resources", "panelTypes": "row", "title": "Resource Usage" },
    { "description": "", "id": "row-api-events", "panelTypes": "row", "title": "API and Event Metrics" },

    {
      "description": "",
      "id": "general-total",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-general-total",
        "promql": [{ "name": "A", "query": "count(certmanager_certificate_expiration_timestamp_seconds{namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"} > 0)", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Total Certificates Issued",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "general-active",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-general-active",
        "promql": [{ "name": "A", "query": "sum(certmanager_certificate_ready_status{condition=\"True\",namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"})", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Active Certificates",
      "yAxisUnit": "none"
    },
    {
      "description": "Pending and completed certificate requests (approximated by challenge states).",
      "id": "general-requests",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-general-requests",
        "promql": [
          { "name": "A", "query": "sum(certmanager_certificate_challenge_status{status=\"pending\",namespace=~\"{{.namespace}}\"})", "legend": "pending", "disabled": false },
          { "name": "B", "query": "sum(certmanager_certificate_challenge_status{status=~\"valid|ready\",namespace=~\"{{.namespace}}\"})", "legend": "completed", "disabled": false }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Certificate Requests (pending/completed)",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "general-uptime",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-general-uptime",
        "promql": [{ "name": "A", "query": "avg(up{job=~\".*cert-manager.*\",namespace=~\"{{.namespace}}\",cluster=~\"{{.cluster}}\",deployment_environment=~\"{{index . \\\"deployment.environment\\\"}}\"}) * 100", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Uptime",
      "yAxisUnit": "percentunit"
    },

    {
      "description": "",
      "id": "iss-per-issuer",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-iss-per-issuer",
        "promql": [{ "name": "A", "query": "sum by (issuer_name) (certmanager_certificate_ready_status{condition=\"True\",namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"})", "legend": "{{issuer_name}}", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Certificates Issued per Issuer",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "iss-rate",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-iss-rate",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_controller_sync_call_count{controller=~\"certificates-issuing|certificaterequests-.*\"}[5m]))", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Issuance Rate",
      "yAxisUnit": "cps"
    },
    {
      "description": "",
      "id": "iss-success",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-iss-success",
        "promql": [{ "name": "A", "query": "100 * (1 - (sum(rate(certmanager_controller_sync_error_count{controller=~\"certificates-issuing|certificaterequests-.*\"}[5m])) / clamp_min(sum(rate(certmanager_controller_sync_call_count{controller=~\"certificates-issuing|certificaterequests-.*\"}[5m])), 1e-9)))", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Issuance Success Rate",
      "yAxisUnit": "percentunit"
    },

    {
      "description": "",
      "id": "ren-pending",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-ren-pending",
        "promql": [{ "name": "A", "query": "count((certmanager_certificate_renewal_timestamp_seconds{namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"} > 0) and (certmanager_certificate_renewal_timestamp_seconds{namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"} < time() + 7 * 24 * 3600))", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Certificates Pending Renewal",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "ren-success",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "value",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-ren-success",
        "promql": [{ "name": "A", "query": "100 * (1 - (sum(rate(certmanager_controller_sync_error_count{controller=~\"certificates-trigger|certificates-readiness\"}[5m])) / clamp_min(sum(rate(certmanager_controller_sync_call_count{controller=~\"certificates-trigger|certificates-readiness\"}[5m])), 1e-9)))", "legend": "", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Renewal Success Rate",
      "yAxisUnit": "percentunit"
    },
    {
      "description": "Average lead time between cert validity start and scheduled renewal.",
      "id": "ren-duration",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-ren-duration",
        "promql": [{ "name": "A", "query": "avg((certmanager_certificate_renewal_timestamp_seconds{namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"} - certmanager_certificate_not_before_timestamp_seconds{namespace=~\"{{.namespace}}\",issuer_name=~\"{{.issuer}}\",name=~\"{{.certificate_name}}\"}) / 3600)", "legend": "hours", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Renewal Duration",
      "yAxisUnit": "none"
    },

    {
      "description": "",
      "id": "err-issuance",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-err-issuance",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_controller_sync_error_count{controller=~\"certificates-issuing|certificaterequests-.*\"}[5m]))", "legend": "errors/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Certificate Issuance Errors",
      "yAxisUnit": "cps"
    },
    {
      "description": "",
      "id": "err-renewal",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-err-renewal",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_controller_sync_error_count{controller=~\"certificates-trigger|certificates-readiness\"}[5m]))", "legend": "errors/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Renewal Errors",
      "yAxisUnit": "cps"
    },
    {
      "description": "",
      "id": "err-api",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-err-api",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_http_acme_client_request_count{status=~\"4..|5..\"}[5m]))", "legend": "api errors/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "API Server Errors",
      "yAxisUnit": "cps"
    },

    {
      "description": "",
      "id": "res-cpu",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-res-cpu",
        "promql": [{ "name": "A", "query": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"{{.namespace}}\",pod=~\"cert-manager.*\",cluster=~\"{{.cluster}}\",deployment_environment=~\"{{index . \\\"deployment.environment\\\"}}\"}[5m]))", "legend": "cores", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "CPU Usage",
      "yAxisUnit": "none"
    },
    {
      "description": "",
      "id": "res-memory",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-res-memory",
        "promql": [{ "name": "A", "query": "sum(container_memory_working_set_bytes{namespace=~\"{{.namespace}}\",pod=~\"cert-manager.*\",cluster=~\"{{.cluster}}\",deployment_environment=~\"{{index . \\\"deployment.environment\\\"}}\"})", "legend": "memory", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Memory Usage",
      "yAxisUnit": "bytes"
    },
    {
      "description": "",
      "id": "res-restarts",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-res-restarts",
        "promql": [{ "name": "A", "query": "sum(increase(kube_pod_container_status_restarts_total{namespace=~\"{{.namespace}}\",pod=~\"cert-manager.*\",cluster=~\"{{.cluster}}\"}[1h]))", "legend": "restarts (1h)", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Pod Restarts",
      "yAxisUnit": "none"
    },

    {
      "description": "",
      "id": "api-rate",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-api-rate",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_http_acme_client_request_count[5m]))", "legend": "req/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "API Request Rate",
      "yAxisUnit": "cps"
    },
    {
      "description": "",
      "id": "event-rate",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-event-rate",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_controller_sync_call_count[5m]))", "legend": "events/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Event Processing Rate",
      "yAxisUnit": "cps"
    },
    {
      "description": "",
      "id": "api-failed",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": { "queryData": [], "queryFormulas": [] },
        "clickhouse_sql": [{ "name": "A", "legend": "", "disabled": false, "query": "" }],
        "id": "q-api-failed",
        "promql": [{ "name": "A", "query": "sum(rate(certmanager_http_acme_client_request_count{status=~\"4..|5..\"}[5m]))", "legend": "failed req/s", "disabled": false }],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Failed API Requests",
      "yAxisUnit": "cps"
    }
  ]
}
