{
  "description": "Elasticsearch monitoring dashboard using OpenTelemetry elasticsearchreceiver metrics.",
  "layout": [
    {
      "h": 1,
      "i": "row-node-metrics",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 0
    },
    {
      "h": 1,
      "i": "row-cluster-health-metrics",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 1
    },
    {
      "h": 1,
      "i": "row-index-metrics",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 2
    },
    {
      "h": 1,
      "i": "row-query-and-request-metrics",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 3
    },
    {
      "h": 1,
      "i": "row-cache-metrics",
      "maxH": 1,
      "minH": 1,
      "minW": 12,
      "moved": false,
      "static": false,
      "w": 12,
      "x": 0,
      "y": 4
    }
  ],
  "name": "",
  "panelMap": {
    "row-node-metrics": {
      "collapsed": true,
      "widgets": [
        {
          "h": 5,
          "i": "w-node-disk-usage",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 0,
          "y": 1
        },
        {
          "h": 5,
          "i": "w-node-disk-free",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 4,
          "y": 1
        },
        {
          "h": 5,
          "i": "w-node-disk-available",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 8,
          "y": 1
        },
        {
          "h": 5,
          "i": "w-node-cpu-usage",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 0,
          "y": 6
        },
        {
          "h": 5,
          "i": "w-node-jvm-memory-usage",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 4,
          "y": 6
        },
        {
          "h": 5,
          "i": "w-node-heap-memory-usage",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 8,
          "y": 6
        }
      ]
    },
    "row-cluster-health-metrics": {
      "collapsed": true,
      "widgets": [
        {
          "h": 5,
          "i": "w-cluster-health-status",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 0,
          "y": 11
        },
        {
          "h": 5,
          "i": "w-cluster-active-shards",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 6,
          "y": 11
        },
        {
          "h": 5,
          "i": "w-cluster-pending-tasks",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 0,
          "y": 16
        },
        {
          "h": 5,
          "i": "w-cluster-unassigned-shards",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 6,
          "y": 16
        }
      ]
    },
    "row-index-metrics": {
      "collapsed": true,
      "widgets": [
        {
          "h": 5,
          "i": "w-index-document-count",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 0,
          "y": 21
        },
        {
          "h": 5,
          "i": "w-index-disk-usage",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 6,
          "y": 21
        },
        {
          "h": 5,
          "i": "w-index-search-query-count",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 0,
          "y": 26
        },
        {
          "h": 5,
          "i": "w-index-search-query-time",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 6,
          "y": 26
        }
      ]
    },
    "row-query-and-request-metrics": {
      "collapsed": true,
      "widgets": [
        {
          "h": 5,
          "i": "w-query-search-request-rate",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 0,
          "y": 31
        },
        {
          "h": 5,
          "i": "w-query-latency",
          "moved": false,
          "static": false,
          "w": 6,
          "x": 6,
          "y": 31
        }
      ]
    },
    "row-cache-metrics": {
      "collapsed": true,
      "widgets": [
        {
          "h": 5,
          "i": "w-cache-evictions",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 0,
          "y": 36
        },
        {
          "h": 5,
          "i": "w-cache-hit-count",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 4,
          "y": 36
        },
        {
          "h": 5,
          "i": "w-cache-miss-count",
          "moved": false,
          "static": false,
          "w": 4,
          "x": 8,
          "y": 36
        }
      ]
    }
  },
  "tags": [
    "elasticsearch",
    "otel"
  ],
  "title": "Elasticsearch Monitoring Dashboard",
  "uploadedGrafana": false,
  "variables": {
    "deployment.environment": {
      "allSelected": false,
      "customValue": "",
      "description": "",
      "modificationUUID": "var-deployment-environment",
      "multiSelect": false,
      "name": "deployment.environment",
      "order": 0,
      "queryValue": "SELECT JSONExtractString(labels, 'deployment.environment') AS `deployment.environment`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'elasticsearch.cluster.health'\nGROUP BY `deployment.environment`",
      "selectedValue": "",
      "showALLOption": false,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "elasticsearch.node.name": {
      "allSelected": false,
      "customValue": "",
      "description": "",
      "modificationUUID": "var-elasticsearch-node-name",
      "multiSelect": false,
      "name": "elasticsearch.node.name",
      "order": 1,
      "queryValue": "SELECT JSONExtractString(labels, 'elasticsearch.node.name') AS `elasticsearch.node.name`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'elasticsearch.node.fs.disk.total'\nGROUP BY `elasticsearch.node.name`",
      "selectedValue": "",
      "showALLOption": false,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    },
    "elasticsearch.cluster.name": {
      "allSelected": false,
      "customValue": "",
      "description": "",
      "modificationUUID": "var-elasticsearch-cluster-name",
      "multiSelect": false,
      "name": "elasticsearch.cluster.name",
      "order": 2,
      "queryValue": "SELECT JSONExtractString(labels, 'elasticsearch.cluster.name') AS `elasticsearch.cluster.name`\nFROM signoz_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'elasticsearch.cluster.health'\nGROUP BY `elasticsearch.cluster.name`",
      "selectedValue": "",
      "showALLOption": false,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    }
  },
  "version": "v4",
  "widgets": [
    {
      "description": "",
      "id": "row-node-metrics",
      "panelTypes": "row",
      "title": "Node Metrics"
    },
    {
      "description": "",
      "id": "w-node-disk-usage",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-disk-usage",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "sum by (elasticsearch_node_name) (elasticsearch_node_disk_usage{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Disk Usage",
      "yAxisUnit": "By"
    },
    {
      "description": "",
      "id": "w-node-disk-free",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-disk-free",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "sum by (elasticsearch_node_name) (elasticsearch_node_fs_disk_free{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Disk Free",
      "yAxisUnit": "By"
    },
    {
      "description": "",
      "id": "w-node-disk-available",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-disk-available",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "sum by (elasticsearch_node_name) (elasticsearch_node_fs_disk_available{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Disk Available",
      "yAxisUnit": "By"
    },
    {
      "description": "",
      "id": "w-node-cpu-usage",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-cpu-usage",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "100 * avg by (elasticsearch_node_name) (elasticsearch_os_cpu_usage{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "CPU Usage",
      "yAxisUnit": "percent"
    },
    {
      "description": "",
      "id": "w-node-jvm-memory-usage",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-jvm-memory-usage",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "100 * avg by (elasticsearch_node_name) (jvm_memory_heap_utilization{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "JVM Memory Usage",
      "yAxisUnit": "percent"
    },
    {
      "description": "",
      "id": "w-node-heap-memory-usage",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-node-heap-memory-usage",
        "promql": [
          {
            "disabled": false,
            "legend": "{{elasticsearch_node_name}}",
            "name": "A",
            "query": "avg by (elasticsearch_node_name) (jvm_memory_heap_used{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Heap Memory Usage",
      "yAxisUnit": "By"
    },
    {
      "description": "",
      "id": "row-cluster-health-metrics",
      "panelTypes": "row",
      "title": "Cluster Health Metrics"
    },
    {
      "description": "",
      "id": "w-cluster-health-status",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cluster-health-status",
        "promql": [
          {
            "disabled": false,
            "legend": "{{status}}",
            "name": "A",
            "query": "sum by (status) (elasticsearch_cluster_health{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Health Status",
      "yAxisUnit": "short"
    },
    {
      "description": "",
      "id": "w-cluster-active-shards",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cluster-active-shards",
        "promql": [
          {
            "disabled": false,
            "legend": "active",
            "name": "A",
            "query": "sum(elasticsearch_cluster_shards{state=\"active\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Active Shards",
      "yAxisUnit": "short"
    },
    {
      "description": "",
      "id": "w-cluster-pending-tasks",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cluster-pending-tasks",
        "promql": [
          {
            "disabled": false,
            "legend": "pending_tasks",
            "name": "A",
            "query": "sum(elasticsearch_cluster_pending_tasks{deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Pending Tasks",
      "yAxisUnit": "short"
    },
    {
      "description": "",
      "id": "w-cluster-unassigned-shards",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cluster-unassigned-shards",
        "promql": [
          {
            "disabled": false,
            "legend": "unassigned",
            "name": "A",
            "query": "sum(elasticsearch_cluster_shards{state=\"unassigned\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Unassigned Shards",
      "yAxisUnit": "short"
    },
    {
      "description": "",
      "id": "row-index-metrics",
      "panelTypes": "row",
      "title": "Index Metrics"
    },
    {
      "description": "",
      "id": "w-index-document-count",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-index-document-count",
        "promql": [
          {
            "disabled": false,
            "legend": "documents",
            "name": "A",
            "query": "sum(elasticsearch_index_documents{state=\"active\",aggregation=\"total\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Document Count",
      "yAxisUnit": "short"
    },
    {
      "description": "",
      "id": "w-index-disk-usage",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-index-disk-usage",
        "promql": [
          {
            "disabled": false,
            "legend": "index_size",
            "name": "A",
            "query": "sum(elasticsearch_index_shards_size{aggregation=\"total\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"})"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Disk Usage",
      "yAxisUnit": "By"
    },
    {
      "description": "",
      "id": "w-index-search-query-count",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-index-search-query-count",
        "promql": [
          {
            "disabled": false,
            "legend": "queries_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_index_operations_completed{operation=\"query\",aggregation=\"total\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Search Query Count",
      "yAxisUnit": "ops"
    },
    {
      "description": "",
      "id": "w-index-search-query-time",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-index-search-query-time",
        "promql": [
          {
            "disabled": false,
            "legend": "query_time_ms_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_index_operations_time{operation=\"query\",aggregation=\"total\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Search Query Time",
      "yAxisUnit": "ms"
    },
    {
      "description": "",
      "id": "row-query-and-request-metrics",
      "panelTypes": "row",
      "title": "Query and Request Metrics"
    },
    {
      "description": "",
      "id": "w-query-search-request-rate",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-query-search-request-rate",
        "promql": [
          {
            "disabled": false,
            "legend": "requests_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_node_operations_completed{operation=\"query\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Search Request Rate",
      "yAxisUnit": "ops"
    },
    {
      "description": "",
      "id": "w-query-latency",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-query-latency",
        "promql": [
          {
            "disabled": false,
            "legend": "avg_query_latency_ms",
            "name": "A",
            "query": "sum(rate(elasticsearch_node_operations_time{operation=\"query\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m])) / clamp_min(sum(rate(elasticsearch_node_operations_completed{operation=\"query\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m])), 1)"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Query Latency",
      "yAxisUnit": "ms"
    },
    {
      "description": "",
      "id": "row-cache-metrics",
      "panelTypes": "row",
      "title": "Cache Metrics"
    },
    {
      "description": "",
      "id": "w-cache-evictions",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cache-evictions",
        "promql": [
          {
            "disabled": false,
            "legend": "evictions_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_node_cache_evictions{cache_name=\"query\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Evictions",
      "yAxisUnit": "ops"
    },
    {
      "description": "",
      "id": "w-cache-hit-count",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cache-hit-count",
        "promql": [
          {
            "disabled": false,
            "legend": "hits_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_node_cache_count{type=\"hit\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Hit Count",
      "yAxisUnit": "ops"
    },
    {
      "description": "",
      "id": "w-cache-miss-count",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "graph",
      "query": {
        "builder": {
          "queryData": [],
          "queryFormulas": []
        },
        "clickhouse_sql": [
          {
            "disabled": false,
            "legend": "",
            "name": "A",
            "query": ""
          }
        ],
        "id": "q-w-cache-miss-count",
        "promql": [
          {
            "disabled": false,
            "legend": "misses_per_sec",
            "name": "A",
            "query": "sum(rate(elasticsearch_node_cache_count{type=\"miss\",deployment_environment=~\"{{.deployment.environment}}\",elasticsearch_node_name=~\"{{.elasticsearch.node.name}}\",elasticsearch_cluster_name=~\"{{.elasticsearch.cluster.name}}\"}[5m]))"
          }
        ],
        "queryType": "promql"
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Miss Count",
      "yAxisUnit": "ops"
    }
  ]
}
