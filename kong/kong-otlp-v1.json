{
    "description": "Kong Gateway monitoring dashboard for tracking API gateway performance, request/response metrics, latency, errors, traffic, and resource usage via OpenTelemetry.",
    "image": "",
    "layout": [
        {
            "h": 3,
            "i": "panel-total-requests",
            "moved": false,
            "static": false,
            "w": 3,
            "x": 0,
            "y": 0
        },
        {
            "h": 3,
            "i": "panel-active-conns",
            "moved": false,
            "static": false,
            "w": 3,
            "x": 3,
            "y": 0
        },
        {
            "h": 3,
            "i": "panel-cpu-val",
            "moved": false,
            "static": false,
            "w": 3,
            "x": 6,
            "y": 0
        },
        {
            "h": 3,
            "i": "panel-mem-val",
            "moved": false,
            "static": false,
            "w": 3,
            "x": 9,
            "y": 0
        },
        {
            "h": 6,
            "i": "panel-request-rate",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 3
        },
        {
            "h": 6,
            "i": "panel-status-codes",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 3
        },
        {
            "h": 6,
            "i": "panel-request-size",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 9
        },
        {
            "h": 6,
            "i": "panel-response-size",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 9
        },
        {
            "h": 6,
            "i": "panel-latency-avg",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 15
        },
        {
            "h": 6,
            "i": "panel-latency-percentiles",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 15
        },
        {
            "h": 6,
            "i": "panel-upstream-latency",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 21
        },
        {
            "h": 6,
            "i": "panel-internal-latency",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 21
        },
        {
            "h": 6,
            "i": "panel-error-rate",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 27
        },
        {
            "h": 6,
            "i": "panel-errors-by-service",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 27
        },
        {
            "h": 6,
            "i": "panel-incoming-traffic",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 33
        },
        {
            "h": 6,
            "i": "panel-outgoing-traffic",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 33
        },
        {
            "h": 6,
            "i": "panel-cpu-graph",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 0,
            "y": 39
        },
        {
            "h": 6,
            "i": "panel-mem-graph",
            "moved": false,
            "static": false,
            "w": 6,
            "x": 6,
            "y": 39
        }
    ],
    "panelMap": {},
    "tags": [
        "kong",
        "api-gateway",
        "otel"
    ],
    "title": "Kong Gateway Monitoring (OTLP)",
    "uploadedGrafana": false,
    "variables": {
        "namespace": {
            "allSelected": false,
            "customValue": "",
            "description": "Kubernetes namespace where Kong is deployed",
            "key": "k8s.namespace.name",
            "modificationUUID": "k1",
            "multiSelect": false,
            "name": "namespace",
            "order": 0,
            "queryValue": "",
            "selectedValue": "",
            "showALLOption": true,
            "sort": "ASC",
            "textboxValue": "",
            "type": "QUERY"
        },
        "service": {
            "allSelected": false,
            "customValue": "",
            "description": "Kong service name",
            "key": "kong.service.name",
            "modificationUUID": "k2",
            "multiSelect": false,
            "name": "service",
            "order": 1,
            "queryValue": "",
            "selectedValue": "",
            "showALLOption": true,
            "sort": "ASC",
            "textboxValue": "",
            "type": "QUERY"
        },
        "deployment_environment": {
            "allSelected": false,
            "customValue": "",
            "description": "Deployment environment",
            "key": "deployment.environment",
            "modificationUUID": "k3",
            "multiSelect": false,
            "name": "deployment_environment",
            "order": 2,
            "queryValue": "",
            "selectedValue": "",
            "showALLOption": true,
            "sort": "ASC",
            "textboxValue": "",
            "type": "QUERY"
        },
        "cluster": {
            "allSelected": false,
            "customValue": "",
            "description": "Kubernetes cluster name",
            "key": "k8s.cluster.name",
            "modificationUUID": "k4",
            "multiSelect": false,
            "name": "cluster",
            "order": 3,
            "queryValue": "",
            "selectedValue": "",
            "showALLOption": true,
            "sort": "ASC",
            "textboxValue": "",
            "type": "QUERY"
        }
    },
    "version": "v4",
    "widgets": [
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Total number of API requests handled by Kong",
            "fillSpans": false,
            "id": "panel-total-requests",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "value",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.request.count--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.request.count",
                                "type": "Sum"
                            },
                            "aggregateOperator": "increase",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "last",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "increase"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-total-requests",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Total Requests",
            "yAxisUnit": "none"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Number of active connections managed by Kong",
            "fillSpans": false,
            "id": "panel-active-conns",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "value",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "nginx.connections_current--float64--Gauge--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "nginx.connections_current",
                                "type": "Gauge"
                            },
                            "aggregateOperator": "last",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [
                                    {
                                        "id": "f-active",
                                        "key": {
                                            "dataType": "string",
                                            "id": "state--string--tag--false",
                                            "isColumn": false,
                                            "isJSON": false,
                                            "key": "state",
                                            "type": "tag"
                                        },
                                        "op": "=",
                                        "value": "active"
                                    }
                                ],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "last",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "last"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-active-conns",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Active Connections",
            "yAxisUnit": "none"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "CPU usage by Kong process",
            "fillSpans": false,
            "id": "panel-cpu-val",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "value",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "process.cpu.time--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "process.cpu.time",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "last",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-cpu-val",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "CPU Usage",
            "yAxisUnit": "none"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Memory consumption of Kong",
            "fillSpans": false,
            "id": "panel-mem-val",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "value",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "process.memory.usage--float64--Gauge--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "process.memory.usage",
                                "type": "Gauge"
                            },
                            "aggregateOperator": "last",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "last",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "last"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-mem-val",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Memory Usage",
            "yAxisUnit": "bytes"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Rate of incoming API requests per second",
            "fillSpans": false,
            "id": "panel-request-rate",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.request.count--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.request.count",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-request-rate",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Request Rate",
            "yAxisUnit": "reqps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Distribution of HTTP response status codes (2xx, 4xx, 5xx)",
            "fillSpans": false,
            "id": "panel-status-codes",
            "isStacked": true,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.request.count--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.request.count",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "http.response.status_code--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "http.response.status_code",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{http.response.status_code}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-status-codes",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": true,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Response Status Codes",
            "yAxisUnit": "reqps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Average and percentile sizes of incoming API requests",
            "fillSpans": false,
            "id": "panel-request-size",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "http.server.request.size--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "http.server.request.size",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "avg request size",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "avg",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-request-size",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Request Size",
            "yAxisUnit": "bytes"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Average and percentile sizes of responses from Kong",
            "fillSpans": false,
            "id": "panel-response-size",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "http.server.response.size--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "http.server.response.size",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "avg response size",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "avg",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-response-size",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Response Size",
            "yAxisUnit": "bytes"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Average time taken to process API requests",
            "fillSpans": false,
            "id": "panel-latency-avg",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.total--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.total",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "avg",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-latency-avg",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Average Request Latency",
            "yAxisUnit": "ms"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Request latency at P50, P90, P99 percentiles",
            "fillSpans": false,
            "id": "panel-latency-percentiles",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.total--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.total",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "p50",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "p50",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "p50",
                            "stepInterval": 60,
                            "timeAggregation": "p50"
                        },
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.total--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.total",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "p90",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "B",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "p90",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "B",
                            "reduceTo": "avg",
                            "spaceAggregation": "p90",
                            "stepInterval": 60,
                            "timeAggregation": "p90"
                        },
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.total--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.total",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "p99",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "C",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "p99",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "C",
                            "reduceTo": "avg",
                            "spaceAggregation": "p99",
                            "stepInterval": 60,
                            "timeAggregation": "p99"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-latency-pct",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Request Latency Percentiles (P50/P90/P99)",
            "yAxisUnit": "ms"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Latency of upstream services Kong communicates with",
            "fillSpans": false,
            "id": "panel-upstream-latency",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.upstream--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.upstream",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "avg",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-upstream-latency",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Upstream Latency",
            "yAxisUnit": "ms"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Internal Kong processing latency",
            "fillSpans": false,
            "id": "panel-internal-latency",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.latency.internal--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.latency.internal",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "avg",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-internal-latency",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Internal (Kong) Latency",
            "yAxisUnit": "ms"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Rate of 4xx and 5xx errors",
            "fillSpans": false,
            "id": "panel-error-rate",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.request.count--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.request.count",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [
                                    {
                                        "id": "f-err",
                                        "key": {
                                            "dataType": "string",
                                            "id": "http.response.status_code--string--tag--false",
                                            "isColumn": false,
                                            "isJSON": false,
                                            "key": "http.response.status_code",
                                            "type": "tag"
                                        },
                                        "op": ">=",
                                        "value": "400"
                                    }
                                ],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "http.response.status_code--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "http.response.status_code",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{http.response.status_code}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-error-rate",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Error Rate (4xx/5xx)",
            "yAxisUnit": "reqps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Failed requests segmented by upstream service",
            "fillSpans": false,
            "id": "panel-errors-by-service",
            "isStacked": true,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "kong.request.count--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "kong.request.count",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [
                                    {
                                        "id": "f-err2",
                                        "key": {
                                            "dataType": "string",
                                            "id": "http.response.status_code--string--tag--false",
                                            "isColumn": false,
                                            "isJSON": false,
                                            "key": "http.response.status_code",
                                            "type": "tag"
                                        },
                                        "op": ">=",
                                        "value": "500"
                                    }
                                ],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-errors-by-svc",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": true,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Failed Requests by Service",
            "yAxisUnit": "reqps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Incoming traffic volume to Kong",
            "fillSpans": false,
            "id": "panel-incoming-traffic",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "http.server.request.size--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "http.server.request.size",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-incoming",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Incoming Traffic Volume",
            "yAxisUnit": "binBps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Outgoing traffic from Kong to upstream services",
            "fillSpans": false,
            "id": "panel-outgoing-traffic",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "http.server.response.size--float64--Histogram--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "http.server.response.size",
                                "type": "Histogram"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "kong.service.name--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "kong.service.name",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{kong.service.name}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-outgoing",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Outgoing Traffic Volume",
            "yAxisUnit": "binBps"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "CPU usage by Kong over time",
            "fillSpans": false,
            "id": "panel-cpu-graph",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "process.cpu.time--float64--Sum--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "process.cpu.time",
                                "type": "Sum"
                            },
                            "aggregateOperator": "rate",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [
                                {
                                    "dataType": "string",
                                    "id": "state--string--tag--false",
                                    "isColumn": false,
                                    "isJSON": false,
                                    "key": "state",
                                    "type": "tag"
                                }
                            ],
                            "having": [],
                            "legend": "{{state}}",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "rate"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-cpu-graph",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "CPU Usage Over Time",
            "yAxisUnit": "none"
        },
        {
            "bucketCount": 30,
            "bucketWidth": 0,
            "columnUnits": {},
            "description": "Memory consumption of Kong over time",
            "fillSpans": false,
            "id": "panel-mem-graph",
            "isStacked": false,
            "mergeAllActiveQueries": false,
            "nullZeroValues": "zero",
            "opacity": "1",
            "panelTypes": "graph",
            "query": {
                "builder": {
                    "queryData": [
                        {
                            "aggregateAttribute": {
                                "dataType": "float64",
                                "id": "process.memory.usage--float64--Gauge--true",
                                "isColumn": true,
                                "isJSON": false,
                                "key": "process.memory.usage",
                                "type": "Gauge"
                            },
                            "aggregateOperator": "avg",
                            "dataSource": "metrics",
                            "disabled": false,
                            "expression": "A",
                            "filters": {
                                "items": [],
                                "op": "AND"
                            },
                            "functions": [],
                            "groupBy": [],
                            "having": [],
                            "legend": "memory",
                            "limit": null,
                            "orderBy": [],
                            "queryName": "A",
                            "reduceTo": "avg",
                            "spaceAggregation": "sum",
                            "stepInterval": 60,
                            "timeAggregation": "avg"
                        }
                    ],
                    "queryFormulas": []
                },
                "clickhouse_sql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "id": "q-mem-graph",
                "promql": [
                    {
                        "disabled": false,
                        "legend": "",
                        "name": "A",
                        "query": ""
                    }
                ],
                "queryType": "builder"
            },
            "selectedLogFields": [
                {
                    "dataType": "string",
                    "name": "body",
                    "type": ""
                },
                {
                    "dataType": "string",
                    "name": "timestamp",
                    "type": ""
                }
            ],
            "selectedTracesFields": [],
            "softMax": 0,
            "softMin": 0,
            "stackedBarChart": false,
            "thresholds": [],
            "timePreferance": "GLOBAL_TIME",
            "title": "Memory Usage Over Time",
            "yAxisUnit": "bytes"
        }
    ]
}
